# agents.md

## 목적

본 파일은 프로젝트 내에서 coding agent, 자동 코드 생성, LLM 연동, 보일러플레이트 자동화 등에 참고되는 코딩 규칙, 작성법, 구조, 구현 시 주의사항을 명시한다.
외부 AI/코딩 툴이 프로젝트 컨벤션에 맞게 코드를 생성하거나 PR 생성, 자동화 작업을 수행할 때 준수해야 할 기준이다.

---

## 1. 기본 규칙

* **Java 8+**, Spring Boot 2.7.5 표준 준수
* **코드 스타일**: Intellij 기본 설정, 필요시 [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html) 참고
* **들여쓰기**: 4 spaces, 탭 허용
* **클래스/메소드 명명**: PascalCase(클래스), camelCase(메소드/필드/로컬변수), 상수는 UPPER_SNAKE_CASE
* **패키지명**: 소문자, 레이어별 분리 (예: `com.프로젝트명.controller`, `com.프로젝트명.service`)
* **주석**: Javadoc(공개 메소드/클래스), 인라인 주석 남발 금지, // TODO/XXX는 반드시 추후 삭제

---

## 2. 패키지 구조 예시

```
src/main/java/com/프로젝트명/
    config/
    controller/
      api/
      page/
    dao/
    domain/
    DTO/
    filter/
    handler/
    repository/
    runner/
    service/
    util/
```

---

## 3. 코드 작성 원칙

* **domain/DTO 분리**: domain은 db 컬럼과 일치, DTO는 레이어간 데이터 전달용
* **Service Layer**: 트랜잭션, 비즈니스 로직 구현. 최대한 SRP(Single Responsibility Principle) 준수
* **Repository**: MyBatis 사용. Mapper XML 파일은 `src/main/resources/mapper`에 위치
* **Controller**:
  * REST API는 api/ 패키지로 구성 및 `@RestController` 사용
  * page 컨트롤러는 `@Controller` 사용
  * 요청 매핑은 기능에 따라 GET,POST,PUT,DELETE 등으로 명시

---

## 4. 구현 및 자동화 코드 주의사항

* **테스트/샘플/실험성 코드는 java/ 에 포함 금지 및 test/에 수행**
* **자동 생성 파일에는 반드시 `// GENERATED BY AGENT` 헤더 추가**

---

## 5. 커밋/PR 자동화

* **자동화 커밋 메시지 규칙**

    * `fix(agent): ...`, `feat(agent): ...` prefix 사용
* **PR 생성시**

    * 영향 파일/자동화 목적 명시
    * 테스트/로컬 검증 결과 첨부

---

## 6. LLM/Agent 프롬프트 설계시 주의

* 시스템 프롬프트에 위 스타일 규칙 명확히 명시
* agent가 생성하는 모든 코드에는 규칙을 위반하는 경우 오류 리턴/PR 생성 금지
* 프로젝트 내 기존 유사 코드/패턴 반드시 참고

---

## 7. 추가 가이드/참고 자료

* [Spring Boot 공식 문서](https://docs.spring.io/spring-boot/docs/current/reference/html/)
* [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html)
* [Effective Java](https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/)

---

## 8. 기타

* agent가 생성/수정한 코드, 자동화된 스크립트는 코드리뷰 필수
* 불필요한 의존성 추가, 설정 파일 오염, 하드코딩 금지
* 외부 API Key, 시크릿 값은 반드시 환경변수/시크릿 관리

---
